{% extends "admin/base.html" %}

{% block title %}Chỉnh sửa nội dung "Về chúng tôi" - Admin{% endblock %}

{% block page_title %}Chỉnh sửa nội dung{% endblock %}
{% block page_description %}Cập nhật tiêu đề, mô tả và hình ảnh cho phần "Về chúng tôi"{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="admin-card p-6">
        <form method="POST" enctype="multipart/form-data" class="space-y-6">
            <!-- Basic Information -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div>
                    <label for="title" class="block text-sm font-medium text-gray-700 mb-2">
                        Tiêu đề chính
                    </label>
                    <input type="text" id="title" name="title" 
                           value="{{ about_section.title if about_section else 'Về chúng tôi' }}"
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                           required>
                </div>
                
                <div>
                    <label for="subtitle" class="block text-sm font-medium text-gray-700 mb-2">
                        Tiêu đề phụ
                    </label>
                    <input type="text" id="subtitle" name="subtitle" 
                           value="{{ about_section.subtitle if about_section else 'Trường Mầm non Hoa Hướng Dương' }}"
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                </div>
            </div>

            <!-- Descriptions -->
            <div class="space-y-4">
                <div>
                    <label for="description_1" class="block text-sm font-medium text-gray-700 mb-2">
                        Mô tả đoạn 1
                    </label>
                    <textarea id="description_1" name="description_1" rows="3"
                              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                              required>{{ about_section.description_1 if about_section else 'Trường Mầm non Hoa Hướng Dương là ngôi trường tiên phong trong việc áp dụng phương pháp giáo dục hiện đại, tập trung phát triển toàn diện cho trẻ em.' }}</textarea>
                </div>
                
                <div>
                    <label for="description_2" class="block text-sm font-medium text-gray-700 mb-2">
                        Mô tả đoạn 2
                    </label>
                    <textarea id="description_2" name="description_2" rows="3"
                              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                              required>{{ about_section.description_2 if about_section else 'Với đội ngũ giáo viên được đào tạo chuyên nghiệp và cơ sở vật chất hiện đại, chúng tôi cam kết mang đến môi trường học tập an toàn, vui tươi và sáng tạo.' }}</textarea>
                </div>
            </div>

            <!-- Experience Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div>
                    <label for="experience_years" class="block text-sm font-medium text-gray-700 mb-2">
                        Số năm kinh nghiệm
                    </label>
                    <input type="text" id="experience_years" name="experience_years" 
                           value="{{ about_section.experience_years if about_section else '10+' }}"
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                           placeholder="10+">
                </div>
                
                <div>
                    <label for="experience_text" class="block text-sm font-medium text-gray-700 mb-2">
                        Text kinh nghiệm
                    </label>
                    <input type="text" id="experience_text" name="experience_text" 
                           value="{{ about_section.experience_text if about_section else 'Năm kinh nghiệm' }}"
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                           placeholder="Năm kinh nghiệm">
                </div>
            </div>

            <!-- Images -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div>
                    <label for="image_1" class="block text-sm font-medium text-gray-700 mb-2">
                        Hình ảnh 1
                    </label>
                    {% if about_section and about_section.image_1 %}
                    <div class="mb-3">
                        <img src="/static/{{ about_section.image_1 }}" alt="Current Image 1" 
                             class="w-full h-32 object-cover rounded-lg border">
                        <p class="text-sm text-gray-500 mt-1">Hình ảnh hiện tại</p>
                    </div>
                    {% endif %}
                    <input type="file" id="image_1" name="image_1" accept="image/*"
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                    <p class="text-sm text-gray-500 mt-1">Chọn file để thay đổi hình ảnh</p>
                </div>
                
                <div>
                    <label for="image_2" class="block text-sm font-medium text-gray-700 mb-2">
                        Hình ảnh 2
                    </label>
                    {% if about_section and about_section.image_2 %}
                    <div class="mb-3">
                        <img src="/static/{{ about_section.image_2 }}" alt="Current Image 2" 
                             class="w-full h-32 object-cover rounded-lg border">
                        <p class="text-sm text-gray-500 mt-1">Hình ảnh hiện tại</p>
                    </div>
                    {% endif %}
                    <input type="file" id="image_2" name="image_2" accept="image/*"
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                    <p class="text-sm text-gray-500 mt-1">Chọn file để thay đổi hình ảnh</p>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="flex items-center justify-between pt-6 border-t border-gray-200">
                <a href="{{ url_for('admin_about') }}" 
                   class="px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition">
                    <i class="fas fa-arrow-left mr-2"></i>
                    Quay lại
                </a>
                
                <button type="submit" 
                        class="btn-primary px-8 py-2 rounded-lg font-medium">
                    <i class="fas fa-save mr-2"></i>
                    Lưu thay đổi
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
