{% extends "base.html" %}

{% block title %}Trang ch·ªß - Tr∆∞·ªùng M·∫ßm non Hoa H∆∞·ªõng D∆∞∆°ng{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-slider relative min-h-[80vh] flex items-center" style="min-height: 80vh !important;">
    <div class="container mx-auto px-4 relative z-10">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
            <div class="text-white">
                <!-- Logo trong hero section -->
                <div class="flex items-center mb-6">
                    <img src="{{ url_for('static', filename='images/mnhhd.jpg') }}" alt="Logo Hoa H∆∞·ªõng D∆∞∆°ng" class="w-16 h-16 md:w-20 md:h-20 rounded-xl shadow-lg mr-4 object-cover border-2 border-white/20">
                    <div>
                        <div class="text-sm md:text-base text-yellow-300 font-semibold mb-1">TR∆Ø·ªúNG M·∫¶M NON</div>
                        <div class="text-2xl md:text-3xl font-bold font-patrick text-white">Hoa H∆∞·ªõng D∆∞∆°ng</div>
                    </div>
                </div>
                <h1 class="text-4xl md:text-5xl font-bold font-patrick mb-6 leading-tight">
                    Ch√†o m·ª´ng ƒë·∫øn v·ªõi<br>
                    <span class="text-yellow-300">ng√¥i tr∆∞·ªùng c·ªßa ch√∫ng t√¥i</span>
                </h1>
                <p class="text-xl md:text-2xl mb-8 text-white/90 leading-relaxed">
                    N∆°i nu√¥i d∆∞·ª°ng t√¢m h·ªìn v√† ph√°t tri·ªÉn t√†i nƒÉng c·ªßa tr·∫ª em t·ª´ 18 th√°ng ƒë·∫øn 5 tu·ªïi
                </p>
                <div class="flex flex-col sm:flex-row gap-4">
                    <a href="/chuong-trinh" class="btn-primary inline-block text-center">
                        <i class="fas fa-graduation-cap mr-2"></i>
                        Xem ch∆∞∆°ng tr√¨nh h·ªçc
                    </a>
                    <a href="/lien-he" class="bg-white text-primary px-8 py-3 rounded-full font-semibold hover:bg-gray-100 transition inline-block text-center">
                        <i class="fas fa-phone mr-2"></i>
                        Li√™n h·ªá t∆∞ v·∫•n
                    </a>
                </div>
            </div>
            <div class="relative">
                <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-8 border border-white/20">
                    <!-- Slider Container -->
                    <div class="slider-container relative rounded-2xl overflow-hidden">
                        {% if slider_images %}
                        <div class="slider-wrapper">
                            {% for slider in slider_images %}
                            <div class="slider-slide {% if loop.first %}active{% endif %}" data-slide="{{ loop.index0 }}">
                                <img src="/static/{{ slider.image_path }}" 
                                     alt="{{ slider.title }}" class="w-full h-64 md:h-80 object-cover">
                                {% if slider.title or slider.description %}
                                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6">
                                    {% if slider.title %}
                                    <h3 class="text-white text-lg font-bold mb-2">{{ slider.title }}</h3>
                                    {% endif %}
                                    {% if slider.description %}
                                    <p class="text-white/90 text-sm">{{ slider.description }}</p>
                                    {% endif %}
                                </div>
                                {% endif %}
                            </div>
                            {% endfor %}
                        </div>
                        
                        <!-- Navigation Arrows -->
                        {% if slider_images|length > 1 %}
                        <button class="slider-prev absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-2 rounded-full transition">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="slider-next absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-2 rounded-full transition">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                        
                        <!-- Dots Indicator -->
                        <div class="slider-dots absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2">
                            {% for slider in slider_images %}
                            <button class="slider-dot w-3 h-3 rounded-full bg-white/50 hover:bg-white/80 transition {% if loop.first %}active bg-white{% endif %}" data-slide="{{ loop.index0 }}"></button>
                            {% endfor %}
                        </div>
                        {% endif %}
                        
                        {% else %}
                        <!-- Fallback image if no slider images -->
                        <img src="https://images.unsplash.com/photo-1587654780291-39c9404d746b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" 
                             alt="Tr·∫ª em vui ch∆°i" class="rounded-2xl w-full h-64 md:h-80 object-cover">
                        {% endif %}
                    </div>
                </div>
                <!-- Floating elements -->
                <div class="absolute -top-4 -left-4 w-16 h-16 bg-yellow-300 rounded-full flex items-center justify-center">
                    <i class="fas fa-star text-orange-600 text-xl"></i>
                </div>
                <div class="absolute -bottom-4 -right-4 w-12 h-12 bg-white rounded-full flex items-center justify-center">
                    <i class="fas fa-heart text-primary text-lg"></i>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Decorative shapes -->
    <div class="absolute top-10 right-10 w-20 h-20 bg-yellow-300/20 rounded-full animate-bounce"></div>
    <div class="absolute bottom-20 left-10 w-16 h-16 bg-white/20 rounded-full animate-pulse"></div>
</section>

<!-- About Section -->
<section class="py-20 bg-gradient-to-br from-blue-50 to-purple-50 relative overflow-hidden">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <div>
                <div class="text-center lg:text-left mb-8">
                    <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-6">
                        <span class="text-primary font-patrick">
                            {{ about_section.title if about_section else 'V·ªÅ ch√∫ng t√¥i' }}
                        </span>
                    </h2>
                    <p class="text-lg text-gray-600 leading-relaxed mb-6">
                        {{ about_section.description_1 if about_section else 'Tr∆∞·ªùng M·∫ßm non Hoa H∆∞·ªõng D∆∞∆°ng l√† ng√¥i tr∆∞·ªùng ti√™n phong trong vi·ªác √°p d·ª•ng ph∆∞∆°ng ph√°p gi√°o d·ª•c hi·ªán ƒë·∫°i, t·∫≠p trung ph√°t tri·ªÉn to√†n di·ªán cho tr·∫ª em.' }}
                    </p>
                    <p class="text-lg text-gray-600 leading-relaxed">
                        {{ about_section.description_2 if about_section else 'V·ªõi ƒë·ªôi ng≈© gi√°o vi√™n ƒë∆∞·ª£c ƒë√†o t·∫°o chuy√™n nghi·ªáp v√† c∆° s·ªü v·∫≠t ch·∫•t hi·ªán ƒë·∫°i, ch√∫ng t√¥i cam k·∫øt mang ƒë·∫øn m√¥i tr∆∞·ªùng h·ªçc t·∫≠p an to√†n, vui t∆∞∆°i v√† s√°ng t·∫°o.' }}
                    </p>
                </div>
                
                <div class="grid grid-cols-2 gap-6">
                    {% if about_stats %}
                        {% for stat in about_stats %}
                        <div class="text-center p-6 bg-white rounded-2xl shadow-lg card-hover">
                            <div class="w-16 h-16 {{ stat.color_class }} rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="{{ stat.icon_class }} text-white text-2xl"></i>
                            </div>
                            <h3 class="text-2xl font-bold {{ stat.color_class.replace('bg-', 'text-') }} mb-2">{{ stat.stat_value }}</h3>
                            <p class="text-gray-600">{{ stat.stat_label }}</p>
                        </div>
                        {% endfor %}
                    {% else %}
                        <!-- Default stats if no data in database -->
                        <div class="text-center p-6 bg-white rounded-2xl shadow-lg card-hover">
                            <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-users text-white text-2xl"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-primary mb-2">200+</h3>
                            <p class="text-gray-600">H·ªçc sinh</p>
                        </div>
                        <div class="text-center p-6 bg-white rounded-2xl shadow-lg card-hover">
                            <div class="w-16 h-16 bg-secondary rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-chalkboard-teacher text-white text-2xl"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-secondary mb-2">25</h3>
                            <p class="text-gray-600">Gi√°o vi√™n</p>
                        </div>
                    {% endif %}
                </div>
            </div>
            
            <div class="relative">
                <div class="grid grid-cols-2 gap-4">
                    {% if about_section and about_section.image_1 %}
                    <img src="/static/{{ about_section.image_1 }}" 
                         alt="H√¨nh ·∫£nh 1" class="rounded-2xl shadow-lg">
                    {% else %}
                    <img src="https://images.unsplash.com/photo-1596461404969-9ae70f2830c1?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" 
                         alt="Tr·∫ª h·ªçc t·∫≠p" class="rounded-2xl shadow-lg">
                    {% endif %}
                    
                    {% if about_section and about_section.image_2 %}
                    <img src="/static/{{ about_section.image_2 }}" 
                         alt="H√¨nh ·∫£nh 2" class="rounded-2xl shadow-lg mt-8">
                    {% else %}
                    <img src="https://images.unsplash.com/photo-1503454537195-1dcabb73ffb9?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" 
                         alt="Tr·∫ª vui ch∆°i" class="rounded-2xl shadow-lg mt-8">
                    {% endif %}
                </div>
                <div class="absolute -bottom-4 -left-4 bg-yellow-300 rounded-2xl p-6 shadow-lg">
                    <div class="text-center">
                        <h4 class="text-2xl font-bold text-orange-600 font-patrick">
                            {{ about_section.experience_years if about_section else '10+' }}
                        </h4>
                        <p class="text-orange-800 font-medium">
                            {{ about_section.experience_text if about_section else 'NƒÉm kinh nghi·ªám' }}
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Video Section -->
{% if intro_videos %}
<section class="py-20 bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 relative overflow-hidden">
    <!-- Background decorative elements -->
    <div class="absolute inset-0 overflow-hidden">
        <div class="absolute -top-20 -right-20 w-80 h-80 bg-white/10 rounded-full animate-pulse"></div>
        <div class="absolute top-40 -left-20 w-60 h-60 bg-white/20 rounded-full animate-pulse" style="animation-delay: 2s;"></div>
        <div class="absolute -bottom-10 right-1/3 w-40 h-40 bg-white/10 rounded-full animate-pulse" style="animation-delay: 4s;"></div>
    </div>
    
    <div class="container mx-auto px-4 relative z-10">
        <div class="text-center mb-16">
            <div class="inline-block mb-4">
                <span class="bg-white/30 backdrop-blur-sm px-6 py-2 rounded-full text-primary font-semibold text-lg">
                    üé• Video gi·ªõi thi·ªáu
                </span>
            </div>
            <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-6 font-patrick">
                Kh√°m ph√° th·∫ø gi·ªõi <span class="text-primary">Hoa H∆∞·ªõng D∆∞∆°ng</span>
            </h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed">
                C√πng tham quan v√† t√¨m hi·ªÉu v·ªÅ m√¥i tr∆∞·ªùng h·ªçc t·∫≠p tuy·ªát v·ªùi d√†nh cho c√°c b√©
            </p>
        </div>
        
        <div class="{% if intro_videos|length == 1 %}max-w-4xl mx-auto{% else %}grid grid-cols-1 {% if intro_videos|length > 1 %}lg:grid-cols-2{% endif %} {% if intro_videos|length > 2 %}xl:grid-cols-3{% endif %} gap-8 max-w-7xl mx-auto{% endif %}">
            {% for video in intro_videos %}
            <div class="group transform hover:scale-105 transition-all duration-300">
                <div class="bg-white/80 backdrop-blur-sm rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 border border-white/50">
                    <!-- Video Thumbnail/Embed -->
                    <div class="relative aspect-video bg-gray-900 overflow-hidden">
                        {% set video_id = video.video_url | youtube_id %}
                        
                        {% if video.thumbnail_image %}
                        <!-- Custom thumbnail with play button overlay -->
                        <div class="relative w-full h-full cursor-pointer video-thumbnail" 
                             data-video-id="{{ video_id }}" 
                             data-video-title="{{ video.title }}">
                            <img src="/static/{{ video.thumbnail_image }}" 
                                 alt="{{ video.title }}" 
                                 class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                            <div class="absolute inset-0 bg-black/30 group-hover:bg-black/20 transition-colors duration-300"></div>
                            <div class="absolute inset-0 flex items-center justify-center">
                                <div class="w-24 h-24 bg-red-600 rounded-full flex items-center justify-center shadow-2xl group-hover:scale-125 transition-all duration-300 hover:bg-red-700 ring-4 ring-white/30">
                                    <i class="fas fa-play text-white text-3xl ml-1"></i>
                                </div>
                            </div>
                        </div>
                        {% else %}
                        <!-- YouTube thumbnail with play button -->
                        <div class="relative w-full h-full cursor-pointer video-thumbnail" 
                             data-video-id="{{ video_id }}" 
                             data-video-title="{{ video.title }}">
                            <img src="https://img.youtube.com/vi/{{ video_id }}/maxresdefault.jpg" 
                                 alt="{{ video.title }}" 
                                 class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"
                                 onerror="this.src='https://img.youtube.com/vi/{{ video_id }}/hqdefault.jpg'">
                            <div class="absolute inset-0 bg-black/30 group-hover:bg-black/20 transition-colors duration-300"></div>
                            <div class="absolute inset-0 flex items-center justify-center">
                                <div class="w-24 h-24 bg-red-600 rounded-full flex items-center justify-center shadow-2xl group-hover:scale-125 transition-all duration-300 hover:bg-red-700 ring-4 ring-white/30">
                                    <i class="fas fa-play text-white text-3xl ml-1"></i>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                    
                    <!-- Video Info -->
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-3 group-hover:text-primary transition-colors">
                            {{ video.title }}
                        </h3>
                        {% if video.description %}
                        <p class="text-gray-600 leading-relaxed line-clamp-3">
                            {{ video.description }}
                        </p>
                        {% endif %}
                        
                        <div class="mt-4 flex items-center justify-between">
                            <span class="text-sm text-gray-500">
                                <i class="fab fa-youtube text-red-500 mr-1"></i>
                                Video YouTube
                            </span>
                            <button class="text-primary font-semibold hover:text-secondary transition video-play-btn" 
                                    data-video-id="{{ video_id }}" 
                                    data-video-title="{{ video.title }}">
                                Xem video <i class="fas fa-play ml-1"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <!-- Call to Action -->
        <div class="text-center mt-16">
            <div class="inline-flex items-center bg-white/20 backdrop-blur-sm rounded-2xl p-2">
                <a href="/lien-he" class="bg-primary text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-secondary transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                    <i class="fas fa-calendar-alt mr-2"></i>
                    ƒê·∫∑t l·ªãch tham quan
                </a>
                <span class="text-gray-700 px-6 py-4">
                    ho·∫∑c g·ªçi <strong class="text-primary">üìû 0123 456 789</strong>
                </span>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Programs Section -->
<section class="py-20 bg-white">
    <div class="container mx-auto px-4">
        <div class="text-center mb-16">
            <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-6">
                <span class="text-primary font-patrick">Ch∆∞∆°ng tr√¨nh h·ªçc</span>
            </h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                C√°c ch∆∞∆°ng tr√¨nh gi√°o d·ª•c ƒë∆∞·ª£c thi·∫øt k·∫ø ph√π h·ª£p v·ªõi t·ª´ng ƒë·ªô tu·ªïi, 
                gi√∫p tr·∫ª ph√°t tri·ªÉn to√†n di·ªán v·ªÅ th·ªÉ ch·∫•t, tr√≠ tu·ªá v√† c·∫£m x√∫c
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for program in featured_programs %}
            <div class="bg-white rounded-3xl shadow-lg overflow-hidden card-hover border border-gray-100">
                {% if program.featured_image %}
                    {% if program.featured_image.startswith('http') %}
                    <img src="{{ program.featured_image }}" 
                         alt="{{ program.name }}" class="w-full h-48 object-cover">
                    {% else %}
                    <img src="/static/{{ program.featured_image }}" 
                         alt="{{ program.name }}" class="w-full h-48 object-cover">
                    {% endif %}
                {% else %}
                <div class="w-full h-48 flex items-center justify-center" style="background: linear-gradient(to bottom right, #ff6b35, #f7931e);">
                    <i class="fas fa-graduation-cap text-white text-4xl"></i>
                </div>
                {% endif %}
                
                <div class="p-8">
                    <div class="flex items-center justify-between mb-4">
                        <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">
                            {{ program.age_group }}
                        </span>
                        <span class="text-primary font-bold text-lg">{{ program.price }}</span>
                    </div>
                    
                    <h3 class="text-xl font-bold text-gray-800 mb-3">{{ program.name }}</h3>
                    <p class="text-gray-600 mb-6 leading-relaxed">
                        {{ program.description[:100] }}{% if program.description|length > 100 %}...{% endif %}
                    </p>
                    
                    <div class="flex items-center justify-between">
                        <div class="text-sm text-gray-500">
                            <i class="fas fa-clock mr-1"></i>
                            {{ program.duration }}
                        </div>
                        <a href="{{ url_for('program_detail', id=program.id) }}" 
                           class="text-primary font-semibold hover:text-secondary transition">
                            Chi ti·∫øt <i class="fas fa-arrow-right ml-1"></i>
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-12">
            <a href="/chuong-trinh" class="btn-primary">
                Xem t·∫•t c·∫£ ch∆∞∆°ng tr√¨nh
            </a>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-20 relative overflow-hidden" style="background: linear-gradient(to right, #ff6b35, #f7931e);">
    <!-- Background decorative elements -->
    <div class="absolute inset-0 overflow-hidden">
        <div class="absolute -top-20 -left-20 w-80 h-80 bg-white/5 rounded-full animate-pulse"></div>
        <div class="absolute top-40 -right-20 w-60 h-60 bg-white/10 rounded-full animate-pulse" style="animation-delay: 2s;"></div>
        <div class="absolute -bottom-10 left-1/3 w-40 h-40 bg-white/5 rounded-full animate-pulse" style="animation-delay: 4s;"></div>
    </div>
    
    <div class="container mx-auto px-4 relative z-10">
        <div class="text-center mb-16">
            <div class="inline-block mb-4">
                <span class="bg-white/20 backdrop-blur-sm px-6 py-2 rounded-full text-white font-semibold text-lg">
                    ‚ú® ƒêi·ªÉm kh√°c bi·ªát c·ªßa ch√∫ng t√¥i
                </span>
            </div>
            <h2 class="text-4xl md:text-5xl font-bold text-white mb-6 font-patrick">
                T·∫°i sao ch·ªçn Hoa H∆∞·ªõng D∆∞∆°ng?
            </h2>
            <p class="text-xl text-white/90 max-w-3xl mx-auto leading-relaxed">
                Ch√∫ng t√¥i mang ƒë·∫øn nh·ªØng gi√° tr·ªã gi√°o d·ª•c t·ªët nh·∫•t cho s·ª± ph√°t tri·ªÉn to√†n di·ªán c·ªßa tr·∫ª
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
            <!-- Feature 1 -->
            <div class="group transform hover:scale-105 transition-all duration-300">
                <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-8 h-full border border-white/20 hover:bg-white/15 hover:shadow-2xl transition-all duration-300">
                    <div class="relative mb-6">
                        <div class="w-20 h-20 bg-white/25 rounded-2xl flex items-center justify-center mx-auto group-hover:bg-white/35 transition-all duration-300 group-hover:scale-110 shadow-lg">
                            <i class="fas fa-shield-alt text-3xl text-white"></i>
                        </div>
                        <div class="absolute -top-2 -right-2 w-6 h-6 bg-yellow-300 rounded-full flex items-center justify-center">
                            <i class="fas fa-star text-orange-600 text-xs"></i>
                        </div>
                    </div>
                    <h3 class="text-xl font-bold mb-4 text-white group-hover:text-yellow-100 transition-colors">
                        üõ°Ô∏è An to√†n tuy·ªát ƒë·ªëi
                    </h3>
                    <p class="text-white/90 leading-relaxed text-center group-hover:text-white transition-colors">
                        H·ªá th·ªëng camera gi√°m s√°t 24/7, ƒë·ªôi ng≈© b·∫£o v·ªá chuy√™n nghi·ªáp v√† quy tr√¨nh an to√†n nghi√™m ng·∫∑t
                    </p>
                    <div class="mt-4 flex justify-center space-x-1">
                        <div class="w-2 h-2 bg-white/50 rounded-full group-hover:bg-yellow-300 transition-all"></div>
                        <div class="w-2 h-2 bg-white/50 rounded-full group-hover:bg-yellow-300 transition-all" style="animation-delay: 0.1s;"></div>
                        <div class="w-2 h-2 bg-white/50 rounded-full group-hover:bg-yellow-300 transition-all" style="animation-delay: 0.2s;"></div>
                    </div>
                </div>
            </div>
            
            <!-- Feature 2 -->
            <div class="group transform hover:scale-105 transition-all duration-300">
                <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-8 h-full border border-white/20 hover:bg-white/15 hover:shadow-2xl transition-all duration-300">
                    <div class="relative mb-6">
                        <div class="w-20 h-20 bg-white/25 rounded-2xl flex items-center justify-center mx-auto group-hover:bg-white/35 transition-all duration-300 group-hover:scale-110 shadow-lg">
                            <i class="fas fa-brain text-3xl text-white"></i>
                        </div>
                        <div class="absolute -top-2 -right-2 w-6 h-6 bg-yellow-300 rounded-full flex items-center justify-center">
                            <i class="fas fa-lightbulb text-orange-600 text-xs"></i>
                        </div>
                    </div>
                    <h3 class="text-xl font-bold mb-4 text-white group-hover:text-yellow-100 transition-colors">
                        üß† Ph√°t tri·ªÉn t∆∞ duy
                    </h3>
                    <p class="text-white/90 leading-relaxed text-center group-hover:text-white transition-colors">
                        Ph∆∞∆°ng ph√°p STEAM hi·ªán ƒë·∫°i gi√∫p tr·∫ª ph√°t tri·ªÉn t∆∞ duy logic, s√°ng t·∫°o v√† k·ªπ nƒÉng gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ
                    </p>
                    <div class="mt-4 flex justify-center space-x-1">
                        <div class="w-2 h-2 bg-white/50 rounded-full group-hover:bg-yellow-300 transition-all"></div>
                        <div class="w-2 h-2 bg-white/50 rounded-full group-hover:bg-yellow-300 transition-all" style="animation-delay: 0.1s;"></div>
                        <div class="w-2 h-2 bg-white/50 rounded-full group-hover:bg-yellow-300 transition-all" style="animation-delay: 0.2s;"></div>
                    </div>
                </div>
            </div>
            
            <!-- Feature 3 -->
            <div class="group transform hover:scale-105 transition-all duration-300">
                <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-8 h-full border border-white/20 hover:bg-white/15 hover:shadow-2xl transition-all duration-300">
                    <div class="relative mb-6">
                        <div class="w-20 h-20 bg-white/25 rounded-2xl flex items-center justify-center mx-auto group-hover:bg-white/35 transition-all duration-300 group-hover:scale-110 shadow-lg">
                            <i class="fas fa-heart text-3xl text-white"></i>
                        </div>
                        <div class="absolute -top-2 -right-2 w-6 h-6 bg-yellow-300 rounded-full flex items-center justify-center">
                            <i class="fas fa-hand-holding-heart text-orange-600 text-xs"></i>
                        </div>
                    </div>
                    <h3 class="text-xl font-bold mb-4 text-white group-hover:text-yellow-100 transition-colors">
                        ‚ù§Ô∏è Y√™u th∆∞∆°ng ch√¢n th√†nh
                    </h3>
                    <p class="text-white/90 leading-relaxed text-center group-hover:text-white transition-colors">
                        ƒê·ªôi ng≈© gi√°o vi√™n nhi·ªÅu kinh nghi·ªám, t·∫≠n t√¢m v√† y√™u tr·∫ª nh∆∞ con em trong ch√≠nh gia ƒë√¨nh m√¨nh
                    </p>
                    <div class="mt-4 flex justify-center space-x-1">
                        <div class="w-2 h-2 bg-white/50 rounded-full group-hover:bg-yellow-300 transition-all"></div>
                        <div class="w-2 h-2 bg-white/50 rounded-full group-hover:bg-yellow-300 transition-all" style="animation-delay: 0.1s;"></div>
                        <div class="w-2 h-2 bg-white/50 rounded-full group-hover:bg-yellow-300 transition-all" style="animation-delay: 0.2s;"></div>
                    </div>
                </div>
            </div>
            
            <!-- Feature 4 -->
            <div class="group transform hover:scale-105 transition-all duration-300">
                <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-8 h-full border border-white/20 hover:bg-white/15 hover:shadow-2xl transition-all duration-300">
                    <div class="relative mb-6">
                        <div class="w-20 h-20 bg-white/25 rounded-2xl flex items-center justify-center mx-auto group-hover:bg-white/35 transition-all duration-300 group-hover:scale-110 shadow-lg">
                            <i class="fas fa-leaf text-3xl text-white"></i>
                        </div>
                        <div class="absolute -top-2 -right-2 w-6 h-6 bg-yellow-300 rounded-full flex items-center justify-center">
                            <i class="fas fa-seedling text-orange-600 text-xs"></i>
                        </div>
                    </div>
                    <h3 class="text-xl font-bold mb-4 text-white group-hover:text-yellow-100 transition-colors">
                        üå± M√¥i tr∆∞·ªùng xanh
                    </h3>
                    <p class="text-white/90 leading-relaxed text-center group-hover:text-white transition-colors">
                        Kh√¥ng gian xanh, s·∫°ch s·∫Ω, th√¢n thi·ªán v·ªõi m√¥i tr∆∞·ªùng, t·∫°o m√¥i tr∆∞·ªùng h·ªçc t·∫≠p l√Ω t∆∞·ªüng cho tr·∫ª
                    </p>
                    <div class="mt-4 flex justify-center space-x-1">
                        <div class="w-2 h-2 bg-white/50 rounded-full group-hover:bg-yellow-300 transition-all"></div>
                        <div class="w-2 h-2 bg-white/50 rounded-full group-hover:bg-yellow-300 transition-all" style="animation-delay: 0.1s;"></div>
                        <div class="w-2 h-2 bg-white/50 rounded-full group-hover:bg-yellow-300 transition-all" style="animation-delay: 0.2s;"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Call to Action -->
        <div class="text-center mt-16">
            <div class="inline-flex items-center bg-white/20 backdrop-blur-sm rounded-2xl p-2">
                <a href="/lien-he" class="bg-white text-orange-500 px-8 py-4 rounded-xl font-bold text-lg hover:bg-yellow-50 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                    <i class="fas fa-heart mr-2"></i>
                    ƒêƒÉng k√Ω tham quan ngay
                </a>
                <span class="text-white/90 px-6 py-4">
                    ho·∫∑c g·ªçi <strong class="text-yellow-300">üìû 1900-xxxx</strong>
                </span>
            </div>
        </div>
    </div>
</section>

<!-- News Section -->
{% if latest_news %}
<section class="py-20 bg-gray-50">
    <div class="container mx-auto px-4">
        <div class="text-center mb-16">
            <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-6">
                <span class="text-primary font-patrick">Tin t·ª©c m·ªõi nh·∫•t</span>
            </h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                C·∫≠p nh·∫≠t nh·ªØng th√¥ng tin m·ªõi nh·∫•t t·ª´ tr∆∞·ªùng Hoa H∆∞·ªõng D∆∞∆°ng
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            {% for article in latest_news %}
            <article class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover">
                {% if article.featured_image %}
                    {% if article.featured_image.startswith('http') %}
                    <img src="{{ article.featured_image }}" 
                         alt="{{ article.title }}" class="w-full h-48 object-cover">
                    {% else %}
                    <img src="/static/{{ article.featured_image }}" 
                         alt="{{ article.title }}" class="w-full h-48 object-cover">
                    {% endif %}
                {% else %}
                <div class="w-full h-48 bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center">
                    <i class="fas fa-newspaper text-white text-3xl"></i>
                </div>
                {% endif %}
                
                <div class="p-6">
                    <div class="text-sm text-gray-500 mb-3">
                        <i class="fas fa-calendar mr-2"></i>
                        {{ article.created_at.strftime('%d/%m/%Y') }}
                    </div>
                    <h3 class="text-lg font-bold text-gray-800 mb-3 leading-tight">
                        {{ article.title }}
                    </h3>
                    <p class="text-gray-600 mb-4 leading-relaxed">
                        {{ article.summary[:100] if article.summary else article.content[:100] }}...
                    </p>
                    <a href="{{ url_for('news_detail', id=article.id) }}" 
                       class="text-primary font-semibold hover:text-secondary transition">
                        ƒê·ªçc th√™m <i class="fas fa-arrow-right ml-1"></i>
                    </a>
                </div>
            </article>
            {% endfor %}
        </div>
        
        <div class="text-center mt-12">
            <a href="/tin-tuc" class="btn-primary">
                Xem t·∫•t c·∫£ tin t·ª©c
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- Gallery Section -->
{% if gallery_images %}
<section class="py-20 bg-white">
    <div class="container mx-auto px-4">
        <div class="text-center mb-16">
            <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-6">
                <span class="text-primary font-patrick">Kho·∫£nh kh·∫Øc ƒë√°ng nh·ªõ</span>
            </h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                Nh·ªØng h√¨nh ·∫£nh sinh ƒë·ªông v·ªÅ cu·ªôc s·ªëng h·ªçc t·∫≠p v√† vui ch∆°i c·ªßa c√°c em
            </p>
        </div>
        
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            {% for image in gallery_images %}
            <div class="relative group overflow-hidden rounded-2xl shadow-lg card-hover">
                {% if image.image_path.startswith('http') %}
                <img src="{{ image.image_path }}" 
                     alt="{{ image.title }}" class="w-full h-48 object-cover group-hover:scale-110 transition-transform duration-300">
                {% else %}
                <img src="/static/{{ image.image_path }}" 
                     alt="{{ image.title }}" class="w-full h-48 object-cover group-hover:scale-110 transition-transform duration-300">
                {% endif %}
                <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <div class="text-white text-center">
                        <i class="fas fa-search-plus text-2xl mb-2"></i>
                        <p class="text-sm font-medium">{{ image.title }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-12">
            <a href="/thu-vien-anh" class="btn-primary">
                Xem th√™m h√¨nh ·∫£nh
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- Events Section -->
{% if upcoming_events %}
<section class="py-20 bg-blue-50">
    <div class="container mx-auto px-4">
        <div class="text-center mb-16">
            <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-6">
                <span class="text-primary font-patrick">S·ª± ki·ªán s·∫Øp t·ªõi</span>
            </h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                ƒê·ª´ng b·ªè l·ª° nh·ªØng s·ª± ki·ªán th√∫ v·ªã d√†nh cho c√°c em h·ªçc sinh
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            {% for event in upcoming_events %}
            <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover">
                {% if event.featured_image %}
                <img src="/static/{{ event.featured_image }}" 
                     alt="{{ event.title }}" class="w-full h-48 object-cover">
                {% else %}
                <div class="w-full h-48 bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center">
                    <i class="fas fa-calendar-alt text-white text-3xl"></i>
                </div>
                {% endif %}
                
                <div class="p-6">
                    <div class="flex items-center text-sm text-primary font-semibold mb-3">
                        <i class="fas fa-calendar mr-2"></i>
                        {{ event.event_date.strftime('%d/%m/%Y') }}
                        <i class="fas fa-clock ml-4 mr-2"></i>
                        {{ event.event_date.strftime('%H:%M') }}
                    </div>
                    <h3 class="text-lg font-bold text-gray-800 mb-3">{{ event.title }}</h3>
                    <p class="text-gray-600 mb-4 leading-relaxed">
                        {{ event.description[:100] if event.description else '' }}...
                    </p>
                    {% if event.location %}
                    <div class="flex items-center text-sm text-gray-500">
                        <i class="fas fa-map-marker-alt mr-2"></i>
                        {{ event.location }}
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-12">
            <a href="/su-kien" class="btn-primary">
                Xem t·∫•t c·∫£ s·ª± ki·ªán
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="py-20 bg-gradient-to-r from-purple-600 to-pink-600 relative overflow-hidden">
    <div class="container mx-auto px-4 relative z-10">
        <div class="text-center text-white">
            <h2 class="text-4xl md:text-5xl font-bold mb-6 font-patrick">
                S·∫µn s√†ng cho con b∆∞·ªõc v√†o h√†nh tr√¨nh h·ªçc t·∫≠p?
            </h2>
            <p class="text-xl mb-8 text-white/90 max-w-3xl mx-auto">
                H√£y li√™n h·ªá v·ªõi ch√∫ng t√¥i ƒë·ªÉ ƒë∆∞·ª£c t∆∞ v·∫•n chi ti·∫øt v·ªÅ ch∆∞∆°ng tr√¨nh h·ªçc 
                ph√π h·ª£p v·ªõi ƒë·ªô tu·ªïi c·ªßa con b·∫°n
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="/lien-he" class="bg-white text-purple-600 px-8 py-4 rounded-full font-bold text-lg hover:bg-gray-100 transition">
                    <i class="fas fa-phone mr-2"></i>
                    Li√™n h·ªá ngay
                </a>
                <a href="/chuong-trinh" class="border-2 border-white text-white px-8 py-4 rounded-full font-bold text-lg hover:bg-white hover:text-purple-600 transition">
                    <i class="fas fa-book mr-2"></i>
                    T√¨m hi·ªÉu ch∆∞∆°ng tr√¨nh
                </a>
            </div>
        </div>
    </div>
    
    <!-- Background decorations -->
    <div class="absolute top-0 left-0 w-64 h-64 bg-white/10 rounded-full -translate-x-32 -translate-y-32"></div>
    <div class="absolute bottom-0 right-0 w-64 h-64 bg-white/10 rounded-full translate-x-32 translate-y-32"></div>
</section>

<style>
.slider-container {
    position: relative;
    background: rgba(255,255,255,0.1); /* Debug background */
    border: 2px solid rgba(255,255,255,0.2); /* Debug border */
}

.slider-wrapper {
    position: relative;
    width: 100%;
    min-height: 256px; /* ƒê·∫∑t chi·ªÅu cao t·ªëi thi·ªÉu (h-64) */
}

.slider-slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: opacity 0.5s ease-in-out;

}

.slider-slide.active {
    opacity: 1;

}

.slider-slide img {
    width: 100%;
    height: 256px; /* ƒê·∫∑t chi·ªÅu cao c·ªë ƒë·ªãnh cho h√¨nh ·∫£nh (h-64) */
    object-fit: cover;
}

/* Responsive heights */
@media (min-width: 768px) {
    .slider-wrapper {
        min-height: 320px; /* h-80 */
    }
    
    .slider-slide img {
        height: 320px; /* h-80 */
    }
}

.slider-dot.active {
    background-color: white !important;
}

.slider-prev, .slider-next {
    z-index: 10;
}

.slider-dots {
    z-index: 10;
}

/* Video Modal Styles */
.video-container {
    aspect-ratio: 16/9;
    min-height: 350px;
    max-height: 85vh;
    height: clamp(350px, 65vh, 900px);
    width: 100%;
}

@media (max-width: 768px) {
    .video-container {
        min-height: 250px;
        height: clamp(250px, 50vh, 400px);
    }
}

@media (min-width: 1024px) {
    .video-container {
        min-height: 500px;
        height: clamp(500px, 70vh, 1000px);
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const sliderContainer = document.querySelector('.slider-container');
    if (!sliderContainer) return;
    
    const slides = document.querySelectorAll('.slider-slide');
    const dots = document.querySelectorAll('.slider-dot');
    const prevBtn = document.querySelector('.slider-prev');
    const nextBtn = document.querySelector('.slider-next');
    
    if (slides.length <= 1) return;
    
    let currentSlide = 0;
    let slideInterval;
    
    function showSlide(index) {
        // Hide all slides
        slides.forEach(slide => slide.classList.remove('active'));
        dots.forEach(dot => dot.classList.remove('active', 'bg-white'));
        
        // Show current slide
        slides[index].classList.add('active');
        if (dots[index]) {
            dots[index].classList.add('active', 'bg-white');
        }
        
        currentSlide = index;
    }
    
    function nextSlide() {
        const next = (currentSlide + 1) % slides.length;
        showSlide(next);
    }
    
    function prevSlide() {
        const prev = (currentSlide - 1 + slides.length) % slides.length;
        showSlide(prev);
    }
    
    function startAutoSlide() {
        // Clear any existing interval first to prevent duplicates
        stopAutoSlide();
        slideInterval = setInterval(nextSlide, 5000); // Change slide every 5 seconds
    }
    
    function stopAutoSlide() {
        if (slideInterval) {
            clearInterval(slideInterval);
            slideInterval = null; // Reset to null
        }
    }
    
    // Event listeners
    if (nextBtn) {
        nextBtn.addEventListener('click', () => {
            console.log('Next clicked - stopping and restarting timer');
            stopAutoSlide(); // Stop first
            nextSlide();
            startAutoSlide(); // Restart with fresh 5s timer
        });
    }
    
    if (prevBtn) {
        prevBtn.addEventListener('click', () => {
            console.log('Prev clicked - stopping and restarting timer');
            stopAutoSlide(); // Stop first
            prevSlide();
            startAutoSlide(); // Restart with fresh 5s timer
        });
    }
    
    dots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
            console.log('Dot clicked - stopping and restarting timer');
            stopAutoSlide(); // Stop first
            showSlide(index);
            startAutoSlide(); // Restart with fresh 5s timer
        });
    });
    
    // Pause auto-slide on hover
    sliderContainer.addEventListener('mouseenter', stopAutoSlide);
    sliderContainer.addEventListener('mouseleave', startAutoSlide);
    
    // Start auto-slide
    startAutoSlide();
});

// Video Modal Functionality
document.addEventListener('DOMContentLoaded', function() {
    // Create video modal
    const videoModal = document.createElement('div');
    videoModal.id = 'videoModal';
    videoModal.className = 'fixed inset-0 bg-black bg-opacity-90 backdrop-blur-sm hidden items-center justify-center z-50 p-4 md:p-8 transition-opacity duration-300';
    videoModal.style.opacity = '0';
    videoModal.innerHTML = `
        <div class="relative max-w-7xl w-full mx-auto transform scale-95 transition-transform duration-300">
            <button id="closeVideoModal" class="absolute -top-8 md:-top-12 right-0 text-white text-2xl md:text-3xl hover:text-gray-300 transition-all duration-300 hover:scale-110 z-10 bg-black/50 rounded-full w-10 h-10 md:w-12 md:h-12 flex items-center justify-center">
                <i class="fas fa-times"></i>
            </button>
            <div class="bg-black rounded-lg md:rounded-2xl overflow-hidden shadow-2xl video-container">
                <iframe id="videoIframe" class="w-full h-full" frameborder="0" allowfullscreen allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe>
            </div>
            <div id="videoTitle" class="text-white text-center mt-4 md:mt-6 text-lg md:text-xl font-bold px-4"></div>
        </div>
    `;
    document.body.appendChild(videoModal);
    
    // Video play functionality
    function playVideo(videoId, title) {
        const iframe = document.getElementById('videoIframe');
        const titleElement = document.getElementById('videoTitle');
        const modal = document.getElementById('videoModal');
        
        iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0&modestbranding=1&showinfo=0`;
        titleElement.textContent = title;
        modal.classList.remove('hidden');
        modal.classList.add('flex');
        document.body.style.overflow = 'hidden';
        
        // Add smooth animation
        setTimeout(() => {
            modal.style.opacity = '1';
            modal.querySelector('.relative').style.transform = 'scale(1)';
        }, 10);
    }
    
    function closeVideo() {
        const iframe = document.getElementById('videoIframe');
        const modal = document.getElementById('videoModal');
        
        // Add smooth close animation
        modal.style.opacity = '0';
        modal.querySelector('.relative').style.transform = 'scale(0.95)';
        
        setTimeout(() => {
            iframe.src = '';
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            document.body.style.overflow = 'auto';
        }, 300);
    }
    
    // Extract YouTube video ID from URL
    function getYouTubeVideoId(url) {
        const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
        const match = url.match(regExp);
        return (match && match[2].length === 11) ? match[2] : null;
    }
    
    // Add click events to video elements
    document.querySelectorAll('.video-thumbnail, .video-play-btn').forEach(element => {
        element.addEventListener('click', function() {
            const videoId = this.getAttribute('data-video-id');
            const title = this.getAttribute('data-video-title');
            if (videoId) {
                playVideo(videoId, title);
            }
        });
    });
    
    // Close modal events
    document.getElementById('closeVideoModal').addEventListener('click', closeVideo);
    document.getElementById('videoModal').addEventListener('click', function(e) {
        if (e.target === this) {
            closeVideo();
        }
    });
    
    // Close with Escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeVideo();
        }
    });
});
</script>
{% endblock %}