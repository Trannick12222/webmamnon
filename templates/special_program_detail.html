{% extends "base.html" %}

{% block title %}{{ special_program.title }} - Trường Mầm non Hoa Hướng Dương{% endblock %}

{% block meta_description %}{{ special_program.description[:150] }}...{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-slider relative min-h-[90vh] flex items-center justify-center overflow-hidden py-8">
    <!-- Animated Background Pattern -->
    <div class="absolute inset-0 bg-theme-gradient-br"></div>
    <div class="absolute inset-0 opacity-30">
        <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-br from-white/10 via-transparent to-black/10"></div>
    </div>
    
    <!-- Floating Decorative Elements -->
    <div class="absolute top-20 left-20 w-16 h-16 bg-white/15 rounded-full animate-float"></div>
    <div class="absolute top-32 right-32 w-12 h-12 bg-accent/20 rounded-full animate-float" style="animation-delay: 1s;"></div>
    <div class="absolute bottom-40 left-16 w-20 h-20 bg-white/10 rounded-full animate-float" style="animation-delay: 2s;"></div>
    <div class="absolute bottom-20 right-20 w-14 h-14 bg-accent/15 rounded-full animate-float" style="animation-delay: 0.5s;"></div>
    <div class="absolute top-1/2 left-10 w-8 h-8 bg-white/20 rounded-full animate-float" style="animation-delay: 1.5s;"></div>
    <div class="absolute top-1/3 right-10 w-10 h-10 bg-accent/25 rounded-full animate-float" style="animation-delay: 2.5s;"></div>
    
    <div class="container mx-auto px-4 relative z-10">
        <div class="max-w-4xl mx-auto text-center">
            <!-- Icon with Program Theme Colors -->
            <div class="w-20 h-20 bg-white/20 backdrop-blur-sm rounded-3xl flex items-center justify-center mx-auto mb-6 animate-fade-in-up">
                <i class="{{ special_program.icon_class or 'fas fa-star' }} text-white text-3xl"></i>
            </div>
            
            <!-- Title -->
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 font-patrick animate-fade-in-up" style="animation-delay: 0.2s;">
                {{ special_program.title }}
            </h1>
            
            <!-- Breadcrumb -->
            <div class="flex items-center justify-center space-x-2 text-sm text-white/80 mb-8 animate-fade-in-up" style="animation-delay: 0.4s;">
                <a href="/" class="hover:text-white transition-colors">
                    <i class="fas fa-home mr-1"></i>
                    Trang chủ
                </a>
                <i class="fas fa-chevron-right text-xs"></i>
                <a href="/chuong-trinh" class="hover:text-white transition-colors">Chương trình</a>
                <i class="fas fa-chevron-right text-xs"></i>
                <span class="text-accent">{{ special_program.title }}</span>
            </div>
            
            <!-- Program Description Preview -->
            <p class="text-lg md:text-xl text-white/90 max-w-2xl mx-auto leading-relaxed animate-fade-in-up" style="animation-delay: 0.6s;">
                {{ special_program.description[:200] }}{% if special_program.description|length > 200 %}...{% endif %}
            </p>
            
            <!-- Scroll Indicator -->
            <div class="mt-12 animate-fade-in-up" style="animation-delay: 0.8s;">
                <div class="flex flex-col items-center">
                    <span class="text-white/70 text-sm mb-2">Khám phá chi tiết</span>
                    <div class="w-6 h-10 border-2 border-white/30 rounded-full flex justify-center">
                        <div class="w-1 h-3 bg-white/60 rounded-full animate-bounce mt-2"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Main Content -->
<div class="py-16">
    <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
            <!-- Program Image -->
            {% if special_program.image_path %}
            <div class="mb-12 rounded-2xl overflow-hidden shadow-xl">
                <img src="/static/{{ special_program.image_path }}" 
                     alt="{{ special_program.title }}" 
                     class="w-full h-96 object-cover">
            </div>
            {% endif %}
            
            <!-- Description -->
            <div class="prose prose-lg max-w-none mb-12">
                <div class="bg-white rounded-2xl p-8 shadow-lg border {{ special_program.border_color or 'border-blue-200' }}">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 font-patrick">
                        <i class="{{ special_program.icon_class or 'fas fa-star' }} text-{{ special_program.icon_bg_color.replace('bg-', '') or 'blue-500' }} mr-3"></i>
                        Về chương trình này
                    </h2>
                    <div class="text-gray-700 leading-relaxed">
                        {{ special_program.description|nl2br|safe }}
                    </div>
                </div>
            </div>
            
            <!-- Features -->
            {% if special_program.features and special_program.features.strip() and special_program.features != "Không có nổi bật" %}
                {% set features_list = special_program.features|from_json %}
                {% if features_list and features_list|length > 0 %}
                <div class="bg-white rounded-2xl p-8 shadow-lg border {{ special_program.border_color or 'border-blue-200' }} mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 font-patrick">
                        <i class="fas fa-check-circle text-green-500 mr-3"></i>
                        Điểm nổi bật
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        {% for feature in features_list %}
                        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
                            <i class="fas fa-star text-{{ special_program.icon_bg_color.replace('bg-', '') or 'blue-500' }} mt-1"></i>
                            <span class="text-gray-700">{{ feature }}</span>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% else %}
                    <!-- Handle plain text features -->
                    {% set text_features = special_program.features.split('\n') %}
                    {% if text_features|length > 0 and text_features[0].strip() %}
                    <div class="bg-white rounded-2xl p-8 shadow-lg border {{ special_program.border_color or 'border-blue-200' }} mb-12">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6 font-patrick">
                            <i class="fas fa-check-circle text-green-500 mr-3"></i>
                            Điểm nổi bật
                        </h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            {% for feature in text_features %}
                                {% if feature.strip() %}
                                <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
                                    <i class="fas fa-star text-{{ special_program.icon_bg_color.replace('bg-', '') or 'blue-500' }} mt-1"></i>
                                    <span class="text-gray-700">{{ feature.strip() }}</span>
                                </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                    {% endif %}
                {% endif %}
            {% endif %}
            
            <!-- Contact CTA -->
            <div class="bg-gradient-to-r rounded-2xl p-8 text-center shadow-xl">
                <h3 class="text-2xl font-bold text-white mb-4 font-patrick">
                    Quan tâm đến chương trình này?
                </h3>
                <p class="text-white/90 mb-6">
                    Liên hệ với chúng tôi để được tư vấn chi tiết về chương trình và quy trình đăng ký.
                </p>
                <div class="flex justify-center">
                    <a href="/lien-he" class="btn-primary inline-flex items-center justify-center px-8 py-3 font-medium rounded-full">
                        <i class="fas fa-phone mr-2"></i>
                        Liên hệ tư vấn
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Other Programs -->
{% if other_programs %}
<div class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4 font-patrick">
                    Các chương trình đặc biệt khác
                </h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    Khám phá thêm các chương trình đặc biệt khác của chúng tôi
                </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {% for program in other_programs %}
                <div class="bg-white rounded-2xl p-6 shadow-lg border card-hover {{ program.border_color or 'border-gray-200' }}">
                    <!-- Icon -->
                    <div class="w-16 h-16 {{ program.icon_bg_color or 'bg-blue-500' }} rounded-2xl flex items-center justify-center mb-4">
                        <i class="{{ program.icon_class or 'fas fa-star' }} text-white text-2xl"></i>
                    </div>
                    
                    <!-- Content -->
                    <h3 class="text-xl font-bold text-gray-800 mb-3 font-patrick">
                        {{ program.title }}
                    </h3>
                    
                    <p class="text-gray-600 mb-4 line-clamp-3">
                        {{ program.description[:120] }}{% if program.description|length > 120 %}...{% endif %}
                    </p>
                    
                    <!-- CTA -->
                    <a href="/chuong-trinh-dac-biet/{{ program.id }}" class="inline-flex items-center text-primary hover:text-secondary font-medium transition-colors duration-200">
                        Tìm hiểu thêm
                        <i class="fas fa-arrow-right ml-2"></i>
                    </a>
                </div>
                {% endfor %}
            </div>
            
            <div class="text-center mt-12">
                <a href="/chuong-trinh" class="btn-primary inline-flex items-center px-8 py-3 font-medium rounded-full">
                    <i class="fas fa-list mr-2"></i>
                    Xem tất cả chương trình
                </a>
            </div>
        </div>
    </div>
</div>
{% endif %}

<!-- Custom CSS for animations matching other pages -->
<style>
/* Hero Section Animations - Matching About/News/Programs Style */
.animate-fade-in-up {
    animation: fade-in-up 0.8s ease-out forwards;
    opacity: 0;
}

.animate-float {
    animation: float 6s ease-in-out infinite;
}

/* Floating Animations */
@keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    33% { transform: translateY(-10px) rotate(1deg); }
    66% { transform: translateY(5px) rotate(-1deg); }
}

@keyframes fade-in-up {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Hero section enhancements */
.hero-slider {
    background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
    position: relative;
}

.hero-slider::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="stars" patternUnits="userSpaceOnUse" width="15" height="15"><circle cx="7.5" cy="7.5" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23stars)"/></svg>');
    z-index: 1;
}

/* Enhanced button hover effects */
.group:hover .group-hover\:animate-bounce {
    animation: bounce 1s infinite;
}

/* Enhanced card hover effects */
.card-hover:hover {
    transform: translateY(-8px);
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

/* Smooth scrolling for anchor links */
html {
    scroll-behavior: smooth;
}

/* Line clamp utility for consistent text truncation */
.line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .hero-slider {
        min-height: 75vh !important;
        padding-top: 2rem;
        padding-bottom: 2rem;
    }
    
    .animate-fade-in-up {
        animation-duration: 0.6s;
    }
}

@media (max-width: 640px) {
    .hero-slider {
        min-height: 70vh !important;
        padding-top: 1.5rem;
        padding-bottom: 1.5rem;
    }
}

/* Program-specific enhancements */
.prose h2 {
    color: var(--primary-color);
}

.prose p {
    line-height: 1.8;
}

/* Enhanced CTA section */
.bg-gradient-to-r {
    background: linear-gradient(90deg, var(--primary-color) 0%, var(--secondary-color) 100%);
}

/* Button enhancements */
.btn-primary {
    background: var(--primary-color);
    color: white;
    transition: all 0.3s ease;
}

.btn-primary:hover {
    background: var(--secondary-color);
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
}

.btn-outline {
    border: 2px solid var(--primary-color);
    color: var(--primary-color);
    background: transparent;
    transition: all 0.3s ease;
}

.btn-outline:hover {
    background: var(--primary-color);
    color: white;
    transform: translateY(-2px);
}
</style>
{% endblock %}
